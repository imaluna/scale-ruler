<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="../lib/index.js"></script>
    <style>
      body {
        display: flex;
        padding: 0;
        margin: 0;
        height: 100vh;
      }
      aside {
        width: 200px;
        height: 100%;
      }
      main {
        flex: 1;
        display: flex;
        flex-direction: column;
        height: 100%;
      }
      header,
      footer {
        height: 100px;
        width: 100%;
      }
      #wrap {
        width: 100%;
        flex: 1;
        box-sizing: border-box;
        border: 12px solid #ddd;
      }
    </style>
  </head>
  <body>
    <aside>
      <button id="btn">点击改变</button>
    </aside>
    <main>
      <header>我是头部</header>
      <div id="wrap"></div>
      <footer>我是底部</footer>
    </main>
    <aside>lala</aside>
  </body>
  <script>
    const ruler = new ScaleRuler({
      el: '#wrap',
      containerAutoSize: true,
      autoCenter: true,
      // autoScale: false,
      canvasStyle: {
        backgroundColor: 'pink'
      },
      onScale(scale) {
        // console.log({ scale });
      },
      onMove(translateX, translateY) {
        // console.log({ translateX, translateY });
      }
    });
    const canvasEl = ruler.getCanvasEl();
    canvasEl.innerHTML = '我的内容';
    // console.log(canvasEl);

    document.querySelector('#btn').onclick = function () {
      // document.querySelector('#wrap').style.width = '90%';
      // ruler.updateCanvasRect({
      //   canvasHeight: 1200
      // });
      let rect = document.createElement('div');
      rect.style.position = 'absolute';
      rect.style.width = '200px';
      rect.style.height = '300px';
      rect.style.backgroundColor = 'yellow';
      rect.style.left = '300px';
      rect.style.top = '200px';
      canvasEl.appendChild(rect);
      ruler.addAdsortptionLine([
        { dir: 'x', value: 300 },
        { dir: 'x', value: 500 },
        { dir: 'y', value: 200 },
        { dir: 'y', value: 500 },
      ]);
    };
    console.log(ruler);
  </script>
</html>
