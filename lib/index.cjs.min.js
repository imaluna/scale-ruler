"use strict";function t(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function n(t,n,r){return function(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,e(i.key),i)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(n,r){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,r){if(n){if("string"==typeof n)return t(n,r);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?t(n,r):void 0}}(n))||r){e&&(n=e);var i=0,o=function(){};return{s:o,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){e=e.call(n)},n:function(){var t=e.next();return u=t.done,t},e:function(t){c=!0,a=t},f:function(){try{u||null==e.return||e.return()}finally{if(c)throw a}}}}function e(t){var n=function(t,n){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n);if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof n?n:n+""}var i,o,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},u={};function c(){if(o)return i;o=1;var t=function(t){return t&&t.Math===Math&&t};return i=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof a&&a)||t("object"==typeof i&&i)||function(){return this}()||Function("return this")()}var f,l,s,v,h,p,d,g,y={};function m(){return l?f:(l=1,f=function(t){try{return!!t()}catch(t){return!0}})}function b(){if(v)return s;v=1;var t=m();return s=!t((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))}function w(){if(p)return h;p=1;var t=m();return h=!t((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))}function S(){if(g)return d;g=1;var t=w(),n=Function.prototype.call;return d=t?n.bind(n):function(){return n.apply(n,arguments)},d}var E,x,C,L,O,T,k,M,j,_,P,R,A,z,D,Y,B,W,F,X,H,I,N,G,K,V,U,$,q,J,Q,Z,tt,nt,rt,et,it,ot,at,ut,ct,ft={};function lt(){if(E)return ft;E=1;var t={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!t.call({1:2},1);return ft.f=r?function(t){var r=n(this,t);return!!r&&r.enumerable}:t,ft}function st(){return C?x:(C=1,x=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}})}function vt(){if(O)return L;O=1;var t=w(),n=Function.prototype,r=n.call,e=t&&n.bind.bind(r,r);return L=t?e:function(t){return function(){return r.apply(t,arguments)}},L}function ht(){if(k)return T;k=1;var t=vt(),n=t({}.toString),r=t("".slice);return T=function(t){return r(n(t),8,-1)}}function pt(){if(j)return M;j=1;var t=vt(),n=m(),r=ht(),e=Object,i=t("".split);return M=n((function(){return!e("z").propertyIsEnumerable(0)}))?function(t){return"String"===r(t)?i(t,""):e(t)}:e}function dt(){return P?_:(P=1,_=function(t){return null==t})}function gt(){if(A)return R;A=1;var t=dt(),n=TypeError;return R=function(r){if(t(r))throw new n("Can't call method on "+r);return r}}function yt(){if(D)return z;D=1;var t=pt(),n=gt();return z=function(r){return t(n(r))}}function mt(){if(B)return Y;B=1;var t="object"==typeof document&&document.all;return Y=void 0===t&&void 0!==t?function(n){return"function"==typeof n||n===t}:function(t){return"function"==typeof t}}function bt(){if(F)return W;F=1;var t=mt();return W=function(n){return"object"==typeof n?null!==n:t(n)}}function wt(){if(H)return X;H=1;var t=c(),n=mt();return X=function(r,e){return arguments.length<2?(i=t[r],n(i)?i:void 0):t[r]&&t[r][e];var i},X}function St(){if(N)return I;N=1;var t=vt();return I=t({}.isPrototypeOf)}function Et(){if(K)return G;K=1;var t=c().navigator,n=t&&t.userAgent;return G=n?String(n):""}function xt(){if(U)return V;U=1;var t,n,r=c(),e=Et(),i=r.process,o=r.Deno,a=i&&i.versions||o&&o.version,u=a&&a.v8;return u&&(n=(t=u.split("."))[0]>0&&t[0]<4?1:+(t[0]+t[1])),!n&&e&&(!(t=e.match(/Edge\/(\d+)/))||t[1]>=74)&&(t=e.match(/Chrome\/(\d+)/))&&(n=+t[1]),V=n}function Ct(){if(q)return $;q=1;var t=xt(),n=m(),r=c().String;return $=!!Object.getOwnPropertySymbols&&!n((function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&t&&t<41}))}function Lt(){if(Q)return J;Q=1;var t=Ct();return J=t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}function Ot(){if(tt)return Z;tt=1;var t=wt(),n=mt(),r=St(),e=Lt(),i=Object;return Z=e?function(t){return"symbol"==typeof t}:function(e){var o=t("Symbol");return n(o)&&r(o.prototype,i(e))}}function Tt(){if(rt)return nt;rt=1;var t=String;return nt=function(n){try{return t(n)}catch(t){return"Object"}}}function kt(){if(it)return et;it=1;var t=mt(),n=Tt(),r=TypeError;return et=function(e){if(t(e))return e;throw new r(n(e)+" is not a function")}}function Mt(){if(at)return ot;at=1;var t=kt(),n=dt();return ot=function(r,e){var i=r[e];return n(i)?void 0:t(i)}}function jt(){if(ct)return ut;ct=1;var t=S(),n=mt(),r=bt(),e=TypeError;return ut=function(i,o){var a,u;if("string"===o&&n(a=i.toString)&&!r(u=t(a,i)))return u;if(n(a=i.valueOf)&&!r(u=t(a,i)))return u;if("string"!==o&&n(a=i.toString)&&!r(u=t(a,i)))return u;throw new e("Can't convert object to primitive value")}}var _t,Pt,Rt,At,zt,Dt,Yt,Bt,Wt,Ft,Xt,Ht,It,Nt,Gt,Kt,Vt,Ut,$t,qt,Jt,Qt,Zt,tn,nn={exports:{}};function rn(){if(At)return Rt;At=1;var t=c(),n=Object.defineProperty;return Rt=function(r,e){try{n(t,r,{value:e,configurable:!0,writable:!0})}catch(n){t[r]=e}return e}}function en(){if(zt)return nn.exports;zt=1;var t=Pt?_t:(Pt=1,_t=!1),n=c(),r=rn(),e="__core-js_shared__",i=nn.exports=n[e]||r(e,{});return(i.versions||(i.versions=[])).push({version:"3.39.0",mode:t?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"}),nn.exports}function on(){if(Yt)return Dt;Yt=1;var t=en();return Dt=function(n,r){return t[n]||(t[n]=r||{})}}function an(){if(Wt)return Bt;Wt=1;var t=gt(),n=Object;return Bt=function(r){return n(t(r))}}function un(){if(Xt)return Ft;Xt=1;var t=vt(),n=an(),r=t({}.hasOwnProperty);return Ft=Object.hasOwn||function(t,e){return r(n(t),e)}}function cn(){if(It)return Ht;It=1;var t=vt(),n=0,r=Math.random(),e=t(1..toString);return Ht=function(t){return"Symbol("+(void 0===t?"":t)+")_"+e(++n+r,36)}}function fn(){if(Gt)return Nt;Gt=1;var t=c(),n=on(),r=un(),e=cn(),i=Ct(),o=Lt(),a=t.Symbol,u=n("wks"),f=o?a.for||a:a&&a.withoutSetter||e;return Nt=function(t){return r(u,t)||(u[t]=i&&r(a,t)?a[t]:f("Symbol."+t)),u[t]}}function ln(){if(Vt)return Kt;Vt=1;var t=S(),n=bt(),r=Ot(),e=Mt(),i=jt(),o=fn(),a=TypeError,u=o("toPrimitive");return Kt=function(o,c){if(!n(o)||r(o))return o;var f,l=e(o,u);if(l){if(void 0===c&&(c="default"),f=t(l,o,c),!n(f)||r(f))return f;throw new a("Can't convert object to primitive value")}return void 0===c&&(c="number"),i(o,c)}}function sn(){if($t)return Ut;$t=1;var t=ln(),n=Ot();return Ut=function(r){var e=t(r,"string");return n(e)?e:e+""}}function vn(){if(Jt)return qt;Jt=1;var t=c(),n=bt(),r=t.document,e=n(r)&&n(r.createElement);return qt=function(t){return e?r.createElement(t):{}}}function hn(){if(Zt)return Qt;Zt=1;var t=b(),n=m(),r=vn();return Qt=!t&&!n((function(){return 7!==Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))}function pn(){if(tn)return y;tn=1;var t=b(),n=S(),r=lt(),e=st(),i=yt(),o=sn(),a=un(),u=hn(),c=Object.getOwnPropertyDescriptor;return y.f=t?c:function(t,f){if(t=i(t),f=o(f),u)try{return c(t,f)}catch(t){}if(a(t,f))return e(!n(r.f,t,f),t[f])},y}var dn,gn,yn,mn,bn,wn,Sn,En={};function xn(){if(mn)return yn;mn=1;var t=bt(),n=String,r=TypeError;return yn=function(e){if(t(e))return e;throw new r(n(e)+" is not an object")}}function Cn(){if(bn)return En;bn=1;var t=b(),n=hn(),r=function(){if(gn)return dn;gn=1;var t=b(),n=m();return dn=t&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))}(),e=xn(),i=sn(),o=TypeError,a=Object.defineProperty,u=Object.getOwnPropertyDescriptor,c="enumerable",f="configurable",l="writable";return En.f=t?r?function(t,n,r){if(e(t),n=i(n),e(r),"function"==typeof t&&"prototype"===n&&"value"in r&&l in r&&!r[l]){var o=u(t,n);o&&o[l]&&(t[n]=r.value,r={configurable:f in r?r[f]:o[f],enumerable:c in r?r[c]:o[c],writable:!1})}return a(t,n,r)}:a:function(t,r,u){if(e(t),r=i(r),e(u),n)try{return a(t,r,u)}catch(t){}if("get"in u||"set"in u)throw new o("Accessors not supported");return"value"in u&&(t[r]=u.value),t},En}function Ln(){if(Sn)return wn;Sn=1;var t=b(),n=Cn(),r=st();return wn=t?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,n,r){return t[n]=r,t}}var On,Tn,kn,Mn,jn,_n,Pn,Rn,An,zn,Dn,Yn,Bn,Wn,Fn,Xn={exports:{}};function Hn(){if(Tn)return On;Tn=1;var t=b(),n=un(),r=Function.prototype,e=t&&Object.getOwnPropertyDescriptor,i=n(r,"name"),o=i&&"something"===function(){}.name,a=i&&(!t||t&&e(r,"name").configurable);return On={EXISTS:i,PROPER:o,CONFIGURABLE:a}}function In(){if(Mn)return kn;Mn=1;var t=vt(),n=mt(),r=en(),e=t(Function.toString);return n(r.inspectSource)||(r.inspectSource=function(t){return e(t)}),kn=r.inspectSource}function Nn(){if(Rn)return Pn;Rn=1;var t=on(),n=cn(),r=t("keys");return Pn=function(t){return r[t]||(r[t]=n(t))}}function Gn(){return zn?An:(zn=1,An={})}function Kn(){if(Yn)return Dn;Yn=1;var t,n,r,e=function(){if(_n)return jn;_n=1;var t=c(),n=mt(),r=t.WeakMap;return jn=n(r)&&/native code/.test(String(r))}(),i=c(),o=bt(),a=Ln(),u=un(),f=en(),l=Nn(),s=Gn(),v="Object already initialized",h=i.TypeError,p=i.WeakMap;if(e||f.state){var d=f.state||(f.state=new p);d.get=d.get,d.has=d.has,d.set=d.set,t=function(t,n){if(d.has(t))throw new h(v);return n.facade=t,d.set(t,n),n},n=function(t){return d.get(t)||{}},r=function(t){return d.has(t)}}else{var g=l("state");s[g]=!0,t=function(t,n){if(u(t,g))throw new h(v);return n.facade=t,a(t,g,n),n},n=function(t){return u(t,g)?t[g]:{}},r=function(t){return u(t,g)}}return Dn={set:t,get:n,has:r,enforce:function(e){return r(e)?n(e):t(e,{})},getterFor:function(t){return function(r){var e;if(!o(r)||(e=n(r)).type!==t)throw new h("Incompatible receiver, "+t+" required");return e}}}}function Vn(){if(Bn)return Xn.exports;Bn=1;var t=vt(),n=m(),r=mt(),e=un(),i=b(),o=Hn().CONFIGURABLE,a=In(),u=Kn(),c=u.enforce,f=u.get,l=String,s=Object.defineProperty,v=t("".slice),h=t("".replace),p=t([].join),d=i&&!n((function(){return 8!==s((function(){}),"length",{value:8}).length})),g=String(String).split("String"),y=Xn.exports=function(t,n,r){"Symbol("===v(l(n),0,7)&&(n="["+h(l(n),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(n="get "+n),r&&r.setter&&(n="set "+n),(!e(t,"name")||o&&t.name!==n)&&(i?s(t,"name",{value:n,configurable:!0}):t.name=n),d&&r&&e(r,"arity")&&t.length!==r.arity&&s(t,"length",{value:r.arity});try{r&&e(r,"constructor")&&r.constructor?i&&s(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var a=c(t);return e(a,"source")||(a.source=p(g,"string"==typeof n?n:"")),t};return Function.prototype.toString=y((function(){return r(this)&&f(this).source||a(this)}),"toString"),Xn.exports}function Un(){if(Fn)return Wn;Fn=1;var t=mt(),n=Cn(),r=Vn(),e=rn();return Wn=function(i,o,a,u){u||(u={});var c=u.enumerable,f=void 0!==u.name?u.name:o;if(t(a)&&r(a,f,u),u.global)c?i[o]=a:e(o,a);else{try{u.unsafe?i[o]&&(c=!0):delete i[o]}catch(t){}c?i[o]=a:n.f(i,o,{value:a,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return i}}var $n,qn,Jn,Qn,Zn,tr,nr,rr,er,ir,or,ar,ur,cr,fr,lr,sr,vr={};function hr(){if(Qn)return Jn;Qn=1;var t=function(){if(qn)return $n;qn=1;var t=Math.ceil,n=Math.floor;return $n=Math.trunc||function(r){var e=+r;return(e>0?n:t)(e)}}();return Jn=function(n){var r=+n;return r!=r||0===r?0:t(r)}}function pr(){if(tr)return Zn;tr=1;var t=hr(),n=Math.max,r=Math.min;return Zn=function(e,i){var o=t(e);return o<0?n(o+i,0):r(o,i)}}function dr(){if(rr)return nr;rr=1;var t=hr(),n=Math.min;return nr=function(r){var e=t(r);return e>0?n(e,9007199254740991):0}}function gr(){if(ir)return er;ir=1;var t=dr();return er=function(n){return t(n.length)}}function yr(){if(ar)return or;ar=1;var t=yt(),n=pr(),r=gr(),e=function(e){return function(i,o,a){var u=t(i),c=r(u);if(0===c)return!e&&-1;var f,l=n(a,c);if(e&&o!=o){for(;c>l;)if((f=u[l++])!=f)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===o)return e||l||0;return!e&&-1}};return or={includes:e(!0),indexOf:e(!1)}}function mr(){if(cr)return ur;cr=1;var t=vt(),n=un(),r=yt(),e=yr().indexOf,i=Gn(),o=t([].push);return ur=function(t,a){var u,c=r(t),f=0,l=[];for(u in c)!n(i,u)&&n(c,u)&&o(l,u);for(;a.length>f;)n(c,u=a[f++])&&(~e(l,u)||o(l,u));return l}}function br(){return lr?fr:(lr=1,fr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function wr(){if(sr)return vr;sr=1;var t=mr(),n=br().concat("length","prototype");return vr.f=Object.getOwnPropertyNames||function(r){return t(r,n)},vr}var Sr,Er,xr,Cr,Lr,Or,Tr,kr,Mr,jr,_r,Pr,Rr,Ar,zr,Dr,Yr,Br,Wr,Fr,Xr,Hr,Ir,Nr,Gr,Kr,Vr,Ur,$r={};function qr(){return Sr||(Sr=1,$r.f=Object.getOwnPropertySymbols),$r}function Jr(){if(xr)return Er;xr=1;var t=wt(),n=vt(),r=wr(),e=qr(),i=xn(),o=n([].concat);return Er=t("Reflect","ownKeys")||function(t){var n=r.f(i(t)),a=e.f;return a?o(n,a(t)):n}}function Qr(){if(Lr)return Cr;Lr=1;var t=un(),n=Jr(),r=pn(),e=Cn();return Cr=function(i,o,a){for(var u=n(o),c=e.f,f=r.f,l=0;l<u.length;l++){var s=u[l];t(i,s)||a&&t(a,s)||c(i,s,f(o,s))}}}function Zr(){if(Mr)return kr;Mr=1;var t=c(),n=pn().f,r=Ln(),e=Un(),i=rn(),o=Qr(),a=function(){if(Tr)return Or;Tr=1;var t=m(),n=mt(),r=/#|\.prototype\./,e=function(r,e){var c=o[i(r)];return c===u||c!==a&&(n(e)?t(e):!!e)},i=e.normalize=function(t){return String(t).replace(r,".").toLowerCase()},o=e.data={},a=e.NATIVE="N",u=e.POLYFILL="P";return Or=e}();return kr=function(u,c){var f,l,s,v,h,p=u.target,d=u.global,g=u.stat;if(f=d?t:g?t[p]||i(p,{}):t[p]&&t[p].prototype)for(l in c){if(v=c[l],s=u.dontCallGetSet?(h=n(f,l))&&h.value:f[l],!a(d?l:p+(g?".":"#")+l,u.forced)&&void 0!==s){if(typeof v==typeof s)continue;o(v,s)}(u.sham||s&&s.sham)&&r(v,"sham",!0),e(f,l,v,u)}}}function te(){if(_r)return jr;_r=1;var t=ht();return jr=Array.isArray||function(n){return"Array"===t(n)}}function ne(){if(Rr)return Pr;Rr=1;var t=TypeError;return Pr=function(n){if(n>9007199254740991)throw t("Maximum allowed index exceeded");return n}}function re(){if(zr)return Ar;zr=1;var t=b(),n=Cn(),r=st();return Ar=function(e,i,o){t?n.f(e,i,r(0,o)):e[i]=o}}function ee(){if(Yr)return Dr;Yr=1;var t={};return t[fn()("toStringTag")]="z",Dr="[object z]"===String(t)}function ie(){if(Wr)return Br;Wr=1;var t=ee(),n=mt(),r=ht(),e=fn()("toStringTag"),i=Object,o="Arguments"===r(function(){return arguments}());return Br=t?r:function(t){var a,u,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(u=function(t,n){try{return t[n]}catch(t){}}(a=i(t),e))?u:o?r(a):"Object"===(c=r(a))&&n(a.callee)?"Arguments":c}}function oe(){if(Xr)return Fr;Xr=1;var t=vt(),n=m(),r=mt(),e=ie(),i=wt(),o=In(),a=function(){},u=i("Reflect","construct"),c=/^\s*(?:class|function)\b/,f=t(c.exec),l=!c.test(a),s=function(t){if(!r(t))return!1;try{return u(a,[],t),!0}catch(t){return!1}},v=function(t){if(!r(t))return!1;switch(e(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return l||!!f(c,o(t))}catch(t){return!0}};return v.sham=!0,Fr=!u||n((function(){var t;return s(s.call)||!s(Object)||!s((function(){t=!0}))||t}))?v:s}function ae(){if(Ir)return Hr;Ir=1;var t=te(),n=oe(),r=bt(),e=fn()("species"),i=Array;return Hr=function(o){var a;return t(o)&&(a=o.constructor,(n(a)&&(a===i||t(a.prototype))||r(a)&&null===(a=a[e]))&&(a=void 0)),void 0===a?i:a}}function ue(){if(Gr)return Nr;Gr=1;var t=ae();return Nr=function(n,r){return new(t(n))(0===r?0:r)}}function ce(){if(Vr)return Kr;Vr=1;var t=m(),n=fn(),r=xt(),e=n("species");return Kr=function(n){return r>=51||!t((function(){var t=[];return(t.constructor={})[e]=function(){return{foo:1}},1!==t[n](Boolean).foo}))}}!function(){if(Ur)return u;Ur=1;var t=Zr(),n=m(),r=te(),e=bt(),i=an(),o=gr(),a=ne(),c=re(),f=ue(),l=ce(),s=fn(),v=xt(),h=s("isConcatSpreadable"),p=v>=51||!n((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),d=function(t){if(!e(t))return!1;var n=t[h];return void 0!==n?!!n:r(t)};t({target:"Array",proto:!0,arity:1,forced:!p||!l("concat")},{concat:function(t){var n,r,e,u,l,s=i(this),v=f(s,0),h=0;for(n=-1,e=arguments.length;n<e;n++)if(d(l=-1===n?s:arguments[n]))for(u=o(l),a(h+u),r=0;r<u;r++,h++)r in l&&c(v,h,l[r]);else a(h+1),c(v,h++,l);return v.length=h,v}})}();var fe,le,se,ve,he,pe={};function de(){if(le)return fe;le=1;var t=ht(),n=vt();return fe=function(r){if("Function"===t(r))return n(r)}}function ge(){if(ve)return se;ve=1;var t=m();return se=function(n,r){var e=[][n];return!!e&&t((function(){e.call(null,r||function(){return 1},1)}))}}!function(){if(he)return pe;he=1;var t=Zr(),n=de(),r=yr().indexOf,e=ge(),i=n([].indexOf),o=!!i&&1/i([1],1,-0)<0;t({target:"Array",proto:!0,forced:o||!e("indexOf")},{indexOf:function(t){var n=arguments.length>1?arguments[1]:void 0;return o?i(this,t,n)||0:r(this,t,n)}})}();var ye,me,be,we,Se,Ee,xe,Ce,Le,Oe,Te,ke,Me,je,_e,Pe={};function Re(){if(me)return ye;me=1;var t=Tt(),n=TypeError;return ye=function(r,e){if(!delete r[e])throw new n("Cannot delete property "+t(e)+" of "+t(r))}}function Ae(){if(we)return be;we=1;var t=ie(),n=String;return be=function(r){if("Symbol"===t(r))throw new TypeError("Cannot convert a Symbol value to a string");return n(r)}}function ze(){if(Ee)return Se;Ee=1;var t=vt();return Se=t([].slice)}!function(){if(_e)return Pe;_e=1;var t=Zr(),n=vt(),r=kt(),e=an(),i=gr(),o=Re(),a=Ae(),u=m(),c=function(){if(Ce)return xe;Ce=1;var t=ze(),n=Math.floor,r=function(e,i){var o=e.length;if(o<8)for(var a,u,c=1;c<o;){for(u=c,a=e[c];u&&i(e[u-1],a)>0;)e[u]=e[--u];u!==c++&&(e[u]=a)}else for(var f=n(o/2),l=r(t(e,0,f),i),s=r(t(e,f),i),v=l.length,h=s.length,p=0,d=0;p<v||d<h;)e[p+d]=p<v&&d<h?i(l[p],s[d])<=0?l[p++]:s[d++]:p<v?l[p++]:s[d++];return e};return xe=r}(),f=ge(),l=function(){if(Oe)return Le;Oe=1;var t=Et().match(/firefox\/(\d+)/i);return Le=!!t&&+t[1]}(),s=function(){if(ke)return Te;ke=1;var t=Et();return Te=/MSIE|Trident/.test(t)}(),v=xt(),h=function(){if(je)return Me;je=1;var t=Et().match(/AppleWebKit\/(\d+)\./);return Me=!!t&&+t[1]}(),p=[],d=n(p.sort),g=n(p.push),y=u((function(){p.sort(void 0)})),b=u((function(){p.sort(null)})),w=f("sort"),S=!u((function(){if(v)return v<70;if(!(l&&l>3)){if(s)return!0;if(h)return h<603;var t,n,r,e,i="";for(t=65;t<76;t++){switch(n=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(e=0;e<47;e++)p.push({k:n+e,v:r})}for(p.sort((function(t,n){return n.v-t.v})),e=0;e<p.length;e++)n=p[e].k.charAt(0),i.charAt(i.length-1)!==n&&(i+=n);return"DGBEFHACIJK"!==i}}));t({target:"Array",proto:!0,forced:y||!b||!w||!S},{sort:function(t){void 0!==t&&r(t);var n=e(this);if(S)return void 0===t?d(n):d(n,t);var u,f,l=[],s=i(n);for(f=0;f<s;f++)f in n&&g(l,n[f]);for(c(l,function(t){return function(n,r){return void 0===r?-1:void 0===n?1:void 0!==t?+t(n,r)||0:a(n)>a(r)?1:-1}}(t)),u=i(l),f=0;f<u;)n[f]=l[f++];for(;f<s;)o(n,f++);return n}})}();var De,Ye,Be,We={};!function(){if(Be)return We;Be=1;var t=Zr(),n=an(),r=pr(),e=hr(),i=gr(),o=function(){if(Ye)return De;Ye=1;var t=b(),n=te(),r=TypeError,e=Object.getOwnPropertyDescriptor,i=t&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();return De=i?function(t,i){if(n(t)&&!e(t,"length").writable)throw new r("Cannot set read only .length");return t.length=i}:function(t,n){return t.length=n}}(),a=ne(),u=ue(),c=re(),f=Re(),l=ce()("splice"),s=Math.max,v=Math.min;t({target:"Array",proto:!0,forced:!l},{splice:function(t,l){var h,p,d,g,y,m,b=n(this),w=i(b),S=r(t,w),E=arguments.length;for(0===E?h=p=0:1===E?(h=0,p=w-S):(h=E-2,p=v(s(e(l),0),w-S)),a(w+h-p),d=u(b,p),g=0;g<p;g++)(y=S+g)in b&&c(d,g,b[y]);if(d.length=p,h<p){for(g=S;g<w-p;g++)m=g+h,(y=g+p)in b?b[m]=b[y]:f(b,m);for(g=w;g>w-p+h;g--)f(b,g-1)}else if(h>p)for(g=w-p;g>S;g--)m=g+h-1,(y=g+p-1)in b?b[m]=b[y]:f(b,m);for(g=0;g<h;g++)b[g+S]=arguments[g+2];return o(b,w-p+h),d}})}();var Fe,Xe,He,Ie,Ne,Ge={};function Ke(){if(Xe)return Fe;Xe=1;var t=mr(),n=br();return Fe=Object.keys||function(r){return t(r,n)}}!function(){if(Ne)return Ge;Ne=1;var t=Zr(),n=function(){if(Ie)return He;Ie=1;var t=b(),n=vt(),r=S(),e=m(),i=Ke(),o=qr(),a=lt(),u=an(),c=pt(),f=Object.assign,l=Object.defineProperty,s=n([].concat);return He=!f||e((function(){if(t&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var n={},r={},e=Symbol("assign detection"),o="abcdefghijklmnopqrst";return n[e]=7,o.split("").forEach((function(t){r[t]=t})),7!==f({},n)[e]||i(f({},r)).join("")!==o}))?function(n,e){for(var f=u(n),l=arguments.length,v=1,h=o.f,p=a.f;l>v;)for(var d,g=c(arguments[v++]),y=h?s(i(g),h(g)):i(g),m=y.length,b=0;m>b;)d=y[b++],t&&!r(p,g,d)||(f[d]=g[d]);return f}:f,He}();t({target:"Object",stat:!0,arity:2,forced:Object.assign!==n},{assign:n})}();var Ve,Ue,$e={};function qe(){if(Ue)return Ve;Ue=1;var t=m();return Ve=!t((function(){return Object.isExtensible(Object.preventExtensions({}))}))}var Je,Qe,Ze,ti,ni,ri,ei,ii={exports:{}},oi={};function ai(){if(Je)return oi;Je=1;var t=ht(),n=yt(),r=wr().f,e=ze(),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];return oi.f=function(o){return i&&"Window"===t(o)?function(t){try{return r(t)}catch(t){return e(i)}}(o):r(n(o))},oi}function ui(){if(ni)return ti;ni=1;var t=m(),n=bt(),r=ht(),e=function(){if(Ze)return Qe;Ze=1;var t=m();return Qe=t((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))}(),i=Object.isExtensible,o=t((function(){}));return ti=o||e?function(t){return!!n(t)&&((!e||"ArrayBuffer"!==r(t))&&(!i||i(t)))}:i}!function(){if(ei)return $e;ei=1;var t=Zr(),n=qe(),r=m(),e=bt(),i=function(){if(ri)return ii.exports;ri=1;var t=Zr(),n=vt(),r=Gn(),e=bt(),i=un(),o=Cn().f,a=wr(),u=ai(),c=ui(),f=cn(),l=qe(),s=!1,v=f("meta"),h=0,p=function(t){o(t,v,{value:{objectID:"O"+h++,weakData:{}}})},d=ii.exports={enable:function(){d.enable=function(){},s=!0;var r=a.f,e=n([].splice),i={};i[v]=1,r(i).length&&(a.f=function(t){for(var n=r(t),i=0,o=n.length;i<o;i++)if(n[i]===v){e(n,i,1);break}return n},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(t,n){if(!e(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,v)){if(!c(t))return"F";if(!n)return"E";p(t)}return t[v].objectID},getWeakData:function(t,n){if(!i(t,v)){if(!c(t))return!0;if(!n)return!1;p(t)}return t[v].weakData},onFreeze:function(t){return l&&s&&c(t)&&!i(t,v)&&p(t),t}};return r[v]=!0,ii.exports}().onFreeze,o=Object.freeze;t({target:"Object",stat:!0,forced:r((function(){o(1)})),sham:!n},{freeze:function(t){return o&&e(t)?o(i(t)):t}})}();var ci,fi={};!function(){if(ci)return fi;ci=1;var t=Zr(),n=an(),r=Ke();t({target:"Object",stat:!0,forced:m()((function(){r(1)}))},{keys:function(t){return r(n(t))}})}();var li,si,vi,hi={};!function(){if(vi)return hi;vi=1;var t=ee(),n=Un(),r=function(){if(si)return li;si=1;var t=ee(),n=ie();return li=t?{}.toString:function(){return"[object "+n(this)+"]"}}();t||n(Object.prototype,"toString",r,{unsafe:!0})}();var pi,di,gi,yi,mi,bi,wi,Si={};function Ei(){return di?pi:(di=1,pi="\t\n\v\f\r                　\u2028\u2029\ufeff")}function xi(){if(bi)return mi;bi=1;var t=c(),n=m(),r=vt(),e=Ae(),i=function(){if(yi)return gi;yi=1;var t=vt(),n=gt(),r=Ae(),e=Ei(),i=t("".replace),o=RegExp("^["+e+"]+"),a=RegExp("(^|[^"+e+"])["+e+"]+$"),u=function(t){return function(e){var u=r(n(e));return 1&t&&(u=i(u,o,"")),2&t&&(u=i(u,a,"$1")),u}};return gi={start:u(1),end:u(2),trim:u(3)}}().trim,o=Ei(),a=r("".charAt),u=t.parseFloat,f=t.Symbol,l=f&&f.iterator,s=1/u(o+"-0")!=-1/0||l&&!n((function(){u(Object(l))}));return mi=s?function(t){var n=i(e(t)),r=u(n);return 0===r&&"-"===a(n,0)?-0:r}:u}!function(){if(wi)return Si;wi=1;var t=Zr(),n=xi();t({global:!0,forced:parseFloat!==n},{parseFloat:n})}();var Ci,Li,Oi,Ti,ki,Mi,ji,_i,Pi,Ri,Ai,zi={};function Di(){if(_i)return ji;_i=1;var t=function(){if(Mi)return ki;Mi=1;var t=de(),n=kt(),r=w(),e=t(t.bind);return ki=function(t,i){return n(t),void 0===i?t:r?e(t,i):function(){return t.apply(i,arguments)}},ki}(),n=vt(),r=pt(),e=an(),i=gr(),o=ue(),a=n([].push),u=function(n){var u=1===n,c=2===n,f=3===n,l=4===n,s=6===n,v=7===n,h=5===n||s;return function(p,d,g,y){for(var m,b,w=e(p),S=r(w),E=i(S),x=t(d,g),C=0,L=y||o,O=u?L(p,E):c||v?L(p,0):void 0;E>C;C++)if((h||C in S)&&(b=x(m=S[C],C,w),n))if(u)O[C]=b;else if(b)switch(n){case 3:return!0;case 5:return m;case 6:return C;case 2:a(O,m)}else switch(n){case 4:return!1;case 7:a(O,m)}return s?-1:f||l?l:O}};return ji={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}}!function(){if(Ai)return zi;Ai=1;var t=c(),n=Li?Ci:(Li=1,Ci={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),r=function(){if(Ti)return Oi;Ti=1;var t=vn()("span").classList,n=t&&t.constructor&&t.constructor.prototype;return Oi=n===Object.prototype?void 0:n}(),e=function(){if(Ri)return Pi;Ri=1;var t=Di().forEach,n=ge()("forEach");return Pi=n?[].forEach:function(n){return t(this,n,arguments.length>1?arguments[1]:void 0)},Pi}(),i=Ln(),o=function(t){if(t&&t.forEach!==e)try{i(t,"forEach",e)}catch(n){t.forEach=e}};for(var a in n)n[a]&&o(t[a]&&t[a].prototype);o(r)}();var Yi,Bi={};!function(){if(Yi)return Bi;Yi=1;var t=Zr(),n=te(),r=oe(),e=bt(),i=pr(),o=gr(),a=yt(),u=re(),c=fn(),f=ce(),l=ze(),s=f("slice"),v=c("species"),h=Array,p=Math.max;t({target:"Array",proto:!0,forced:!s},{slice:function(t,c){var f,s,d,g=a(this),y=o(g),m=i(t,y),b=i(void 0===c?y:c,y);if(n(g)&&(f=g.constructor,(r(f)&&(f===h||n(f.prototype))||e(f)&&null===(f=f[v]))&&(f=void 0),f===h||void 0===f))return l(g,m,b);for(s=new(void 0===f?h:f)(p(b-m,0)),d=0;m<b;m++,d++)m in g&&u(s,d,g[m]);return s.length=d,s}})}();var Wi,Fi,Xi,Hi,Ii,Ni={};function Gi(){if(Fi)return Wi;Fi=1;var t=vt();return Wi=t(1..valueOf)}!function(){if(Ii)return Ni;Ii=1;var t=Zr(),n=vt(),r=hr(),e=Gi(),i=function(){if(Hi)return Xi;Hi=1;var t=hr(),n=Ae(),r=gt(),e=RangeError;return Xi=function(i){var o=n(r(this)),a="",u=t(i);if(u<0||u===1/0)throw new e("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))1&u&&(a+=o);return a}}(),o=m(),a=RangeError,u=String,c=Math.floor,f=n(i),l=n("".slice),s=n(1..toFixed),v=function(t,n,r){return 0===n?r:n%2==1?v(t,n-1,r*t):v(t*t,n/2,r)},h=function(t,n,r){for(var e=-1,i=r;++e<6;)i+=n*t[e],t[e]=i%1e7,i=c(i/1e7)},p=function(t,n){for(var r=6,e=0;--r>=0;)e+=t[r],t[r]=c(e/n),e=e%n*1e7},d=function(t){for(var n=6,r="";--n>=0;)if(""!==r||0===n||0!==t[n]){var e=u(t[n]);r=""===r?e:r+f("0",7-e.length)+e}return r};t({target:"Number",proto:!0,forced:o((function(){return"0.000"!==s(8e-5,3)||"1"!==s(.9,0)||"1.25"!==s(1.255,2)||"1000000000000000128"!==s(0xde0b6b3a7640080,0)}))||!o((function(){s({})}))},{toFixed:function(t){var n,i,o,c,s=e(this),g=r(t),y=[0,0,0,0,0,0],m="",b="0";if(g<0||g>20)throw new a("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return u(s);if(s<0&&(m="-",s=-s),s>1e-21)if(i=(n=function(t){for(var n=0,r=t;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n}(s*v(2,69,1))-69)<0?s*v(2,-n,1):s/v(2,n,1),i*=4503599627370496,(n=52-n)>0){for(h(y,0,i),o=g;o>=7;)h(y,1e7,0),o-=7;for(h(y,v(10,o,1),0),o=n-1;o>=23;)p(y,1<<23),o-=23;p(y,1<<o),h(y,1,1),p(y,2),b=d(y)}else h(y,0,i),h(y,1<<-n,0),b=d(y)+f("0",g);return b=g>0?m+((c=b.length)<=g?"0."+f("0",g-c)+b:l(b,0,c-g)+"."+l(b,c-g)):m+b}})}();var Ki,Vi,Ui,$i,qi,Ji={};function Qi(){if($i)return Ui;$i=1;var t=S(),n=un(),r=St(),e=function(){if(Vi)return Ki;Vi=1;var t=xn();return Ki=function(){var n=t(this),r="";return n.hasIndices&&(r+="d"),n.global&&(r+="g"),n.ignoreCase&&(r+="i"),n.multiline&&(r+="m"),n.dotAll&&(r+="s"),n.unicode&&(r+="u"),n.unicodeSets&&(r+="v"),n.sticky&&(r+="y"),r}}(),i=RegExp.prototype;return Ui=function(o){var a=o.flags;return void 0!==a||"flags"in i||n(o,"flags")||!r(i,o)?a:t(e,o)}}!function(){if(qi)return Ji;qi=1;var t=Hn().PROPER,n=Un(),r=xn(),e=Ae(),i=m(),o=Qi(),a="toString",u=RegExp.prototype,c=u[a],f=i((function(){return"/a/b"!==c.call({source:"a",flags:"b"})})),l=t&&c.name!==a;(f||l)&&n(u,a,(function(){var t=r(this);return"/"+e(t.source)+"/"+e(o(t))}),{unsafe:!0})}();var Zi=function(t){return"object"===function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}(t)},to=function(t,n){var r={};for(var e in t)e in n?Zi(t[e]&&Zi(n[e]))?r[e]=to(t[e],n[e]):r[e]=n[e]:r[e]=t[e];for(var i in n)i in t||(r[i]=n[i]);return r},no=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return+t.toFixed(n)},ro=function(t,n){for(var r in n)t.style[r]=n[r]},eo=function(t){return{pageX:t.pageX||(document.body.scrollLeft||document.documentElement.scrollLeft)+t.clientX||0,pageY:t.pageY||(document.body.scrollTop||document.documentElement.scrollTop)+t.clientY||0}},io=function(){return document.createElement("div")},oo={scale:1,maxScale:10,minScale:.1,autoCenter:!0,autoScale:1,containerAutoSize:!1,width:1e3,height:500,padding:80,verticalPadding:void 0,horizontalPadding:void 0,canvasWidth:1920,canvasHeight:2e3,proxyScaleKey:!0,showScrollBar:!0,showRuler:!0,usePositionLine:!0,positionLineConfig:{lineColor:"#24aa61",padding:3,adsorptionXList:[],adsorptionYList:[],adsorptionGap:4},canvasStyle:{},scrollConfig:{backgroundColor:"#000000",opacity:.4},rulerConfig:{verticalRulerWidth:30,horizontalRulerHeight:30,bgColor:"#efefef",fontColor:"#000000",fontSize:12,fontFamily:"Arial",lineColor:"#000000"},onScale:function(){},onMove:function(){}};Object.freeze(oo);var ao=function(){return n((function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._init(n)}),[{key:"_init",value:function(t){if(!Zi(t))throw TypeError("options必须为对象");var n=to(oo,t);this._checkOptions(n),n.containerConfig={},n.canvasConfig={},this.opt=n,this._initContainer(),this._initCanvas(),n.proxyScaleKey&&document.addEventListener("keydown",this._keydownEvent.bind(this)),n.showScrollBar&&(n.wheelTimer=null)}},{key:"_checkOptions",value:function(t){if(!t.el)throw Error("容器不能为空");var n=t.el instanceof HTMLElement?t.el:document.querySelector(t.el);if(!n)throw Error(t.el+"容器不存在");if(!document.body.contains(n)&&!document.documentElement.contains(n))throw Error("页面上不存在该容器");t.containerEl=n;var r=t.minScale,e=t.maxScale;if(r<=0)throw Error("minScale必须大于0");if(e<=0)throw Error("maxScale必须大于0");if(e<r)throw Error("minScale不能大于maxScale")}},{key:"_keydownEvent",value:function(t){var n=t.keyCode;if((t.metaKey||t.ctrlKey)&&(187===n||189===n)){t.preventDefault();var r=this.opt.scale+(187===n?.05:-.05);this.changeScale(r)}}},{key:"_setTranslateBoundary",value:function(t,n){var r=this.opt,e=r.width,i=r.height,o=r.horizontalPadding,a=r.verticalPadding,u=Math.max((e-t)/2,o),c=Math.max((i-n)/2,a),f=t+2*o>e?e-(t+o):u,l=n+2*a>i?i-(n+a):c;r.canvasConfig.maxTranslateX=u,r.canvasConfig.maxTranslateY=c,r.canvasConfig.minTranslateX=f,r.canvasConfig.minTranslateY=l}},{key:"_initContainer",value:function(){var t,n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.opt;e.containerAutoSize?(t=parseFloat(e.containerEl.offsetWidth),n=parseFloat(e.containerEl.offsetHeight),e.containerConfig.originWidth=t,e.containerConfig.originHeight=n,e.addResize||this._onContainerResize()):(t=e.width,n=e.height,e.containerEl.style.width=t+"px",e.containerEl.style.height=n+"px");var i=getComputedStyle(e.containerEl);"border-box"===i.boxSizing&&(t-=parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),n-=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth)),e.width=t,e.height=n,"static"===i.position&&(e.containerEl.style.position="relative"),e.horizontalPadding=e.horizontalPadding||e.padding,e.verticalPadding=e.verticalPadding||e.padding,e.containerEl.style.overflow="hidden",e.showRuler&&this._initRuler(r)}},{key:"_onContainerResize",value:function(){var t=this,n=this.opt,e=n.containerEl,i=n.containerConfig;i.addResize=!0,new ResizeObserver((function(n){var o,a=r(n);try{for(a.s();!(o=a.n()).done;){if(o.value.target===e){var u=e.offsetWidth,c=e.offsetHeight;u===i.originWidth&&c===i.originHeight||(t._initContainer(!0),t._initCanvas(!0))}}}catch(t){a.e(t)}finally{a.f()}})).observe(e)}},{key:"_repaintRuler",value:function(t){var n=this.opt,r=n.rulerConfig,e=n.canvasConfig,i=n.scale,o=t?n.vCtx:n.hCtx,a=t?r.verticalRulerWidth:r.horizontalRulerHeight,u=t?a:n.width,c=t?n.height:a;o.clearRect(0,0,u,c);var f=e.translateX,l=e.translateY,s=t?l:f;o.save(),o.fillStyle=r.bgColor,o.fillRect(0,0,u,c),o.restore();var v=function(t){return t<=.25?40:t<=.5?20:t<=1?10:t<=2?5:t<=4?2:1}(i),h=v*i,p=window.devicePixelRatio,d=-s,g=Math.floor(d/h),y=Math.floor(((t?c:u)-s)/h);o.save(),o.fillStyle=r.lineColor,o.font="".concat(r.fontSize*p,"px ").concat(r.fontFamily),o.translate(.5,.5),o.scale(1/p,1/p),t?o.fillRect((a-1)*p,0,1,c*p):o.fillRect(0,(a-1)*p,u*p,1);for(var m=g;m<=y;m++){o.fillStyle=r.lineColor;var b=(s+m*h)*p,w=a/4;m%10==0?w=4*a/5:m%5==0&&(w=a/3),t?o.fillRect((a-w)*p,b,w*p,1):(o.fillRect(b,(a-w)*p,1,w*p),m%10==0&&(o.fillStyle=r.fontColor,o.fillText(String(m*v),b+2*p,(a+8-w)*p)))}if(o.restore(),t){o.font="".concat(r.fontSize,"px ").concat(r.fontFamily);for(var S=g;S<=y;)if(S%10)S++;else{o.save();var E=s+S*h+a/2;o.translate(E+a/5,E-6*a/5),o.rotate(Math.PI/2),o.fillText(String(S*v),4*a/5,E),S+=10,o.restore()}}}},{key:"_initRuler",value:function(){var t=this.opt,n=t.rulerConfig;t.hRuler||(t.hRuler=this._createRuler(!1),t.hCtx=t.hRuler.getContext("2d")),t.vRuler||(t.vRuler=this._createRuler(!0),t.vCtx=t.vRuler.getContext("2d")),t.hRuler.setAttribute("width",t.width),t.hRuler.setAttribute("height",n.horizontalRulerHeight),t.vRuler.setAttribute("height",t.height),t.vRuler.setAttribute("width",n.verticalRulerWidth)}},{key:"_createRuler",value:function(t){var n=this.opt,r=document.createElement("canvas");return r.style.position="absolute",r.style.left=0,r.style.top=0,r.style.zIndex=t?400:401,n.containerEl.appendChild(r),n.usePositionLine&&this._initPositionLine(n,t,r),r}},{key:"_initPositionLine",value:function(t,n,r){var e=this,i=t.positionLineConfig,o=t.rulerConfig;i.id=i.id||0,i.lines=i.lines||{};var a=i.lineColor,u=i.padding,c=i.positionLineWrapEl;c||(c=io(),i.positionLineWrapEl=c,t.containerEl.appendChild(c));var f,l={top:(f=r.getBoundingClientRect()).top+(document.body.scrollTop||document.documentElement.scrollTop),left:f.left+(document.body.scrollLeft||document.documentElement.scrollLeft)},s=this;function v(n){if(o.isMouseDown){n.preventDefault();var r=eo(n),e=i.currentNodeInfo;if(e){var a=e.positionEl,u=e.dir,c=e.tipEl,f=0;"y"===u?(a.style.visibility=r.pageY>l.top+o.horizontalRulerHeight?"visible":"none",f=r.pageY-l.top):(a.style.visibility=r.pageX>l.left+o.verticalRulerWidth?"visible":"none",f=r.pageX-l.left);var v=s._translateToCoordinate(t,u,f),h=s._checkAdSorptionLine(v,u,f);s._setLineTranslate(u,h.translate,a),s._checkTipPosition(h.translate,u,a,c),e.translate=h.translate,e.coordinate=h.coordinate,c.innerHTML="".concat(u.toUpperCase(),": ").concat(no(h.coordinate)," px")}}}r.addEventListener("mousedown",(function(){o.isMouseDown=!0;var r=io(),f={position:"absolute",visibility:"hidden",backgroundColor:"transparent",zIndex:300},s=io(),h={position:"absolute",backgroundColor:a},p=io(),d={position:"absolute",padding:"5px",lineHeight:"18px",minWidth:"80px",backgroundColor:"rgba(0,0,0,.8)",color:"#fff",fontSize:"12px",borderRadius:"4px",userSelect:"none",textAlign:"center"},g="y",y=2*u+1;n?(Object.assign(f,{width:y+"px",height:t.height+"px",cursor:"col-resize",top:0,left:-u+"px"}),Object.assign(h,{top:0,height:"100%",width:"1px",left:u+"px"}),Object.assign(d,{top:"50%",left:y+"px",transform:"translate(0, -50%)"}),g="x"):(Object.assign(f,{height:y+"px",width:t.width+"px",cursor:"row-resize",left:0,top:-u+"px"}),Object.assign(h,{left:0,width:"100%",height:"1px",top:u+"px"}),Object.assign(d,{left:"50%",top:y+"px",transform:"translate(-50%, 0)"})),ro(r,f),ro(s,h),ro(p,d),r.setAttribute("data-id",i.id),r.appendChild(s),r.appendChild(p),c.appendChild(r);var m={positionEl:r,id:i.id,tipEl:p,translate:0,dir:g};i.lines[i.id++]=m,i.currentNodeInfo=m,document.addEventListener("mousemove",v),document.addEventListener("mouseup",(function(t){if(o.isMouseDown){o.isMouseDown=!1;var n=eo(t),r=i.currentNodeInfo;if(r){var a=r.positionEl,u=r.dir,f=r.tipEl,s=r.id,h="y"===u;!h&&n.pageX<=l.left+o.verticalRulerWidth||h&&n.pageY<=l.top+o.horizontalRulerHeight?(c.removeChild(a),delete i.lines[s]):(f.style.display="none",e._addPositionLineEvent(r,l))}i.currentNodeInfo=null,document.removeEventListener("mousemove",v)}}))}))}},{key:"_checkAdSorptionLine",value:function(t,n,r){var e=this.opt.positionLineConfig,i=e.adsorptionXList,o=e.adsorptionYList,a=e.adsorptionGap,u="y"===n?o:i,c={coordinate:t,translate:r},f=u.length;if(f>0)for(var l=0;l<f;){var s=u[l];if(Math.abs(t-s)<=a){c.coordinate=s,c.translate=this._coordinateToTranslate(s,n);break}if(s>t)break;l++}return c}},{key:"_addPositionLineEvent",value:function(t,n){var r=t.positionEl,e=t.tipEl,i=t.dir,o=this.opt,a=o.positionLineConfig,u=o.rulerConfig;r.addEventListener("mouseenter",(function(){e.style.display="block"})),r.addEventListener("mouseleave",(function(){e.style.display="none"})),r.addEventListener("mousedown",(function(n){n.preventDefault(),a.isMouseDown=!0;var e=eo(n);t.start="y"===i?e.pageY:e.pageX,r.style.transition="",t.originTranslate=t.translate,t.tipEl.style.display="block",a.currentNodeInfo=t})),document.addEventListener("mousemove",f);var c=this;function f(t){if(a.isMouseDown){t.preventDefault();var n=a.currentNodeInfo,r=eo(t),e=n.dir,i=n.tipEl,o=n.start,u=n.originTranslate,f=void 0===u?0:u,l=n.positionEl,s=f+(("y"===e?r.pageY:r.pageX)-o),v=c._translateToCoordinate(c.opt,e,s),h=c._checkAdSorptionLine(v,e,s);c._setLineTranslate(e,h.translate,l),c._checkTipPosition(h.translate,e,l,i),n.translate=h.translate,n.coordinate=h.coordinate,i.innerHTML="".concat(e.toUpperCase(),": ").concat(no(h.coordinate)," px")}}document.addEventListener("mouseup",(function(t){if(a.isMouseDown){a.isMouseDown=!1;var r=a.currentNodeInfo;if(r){var e=r.positionEl,i=r.dir,o=r.id,c="y"===i,l=eo(t);!c&&l.pageX<=n.left+u.verticalRulerWidth||c&&l.pageY<=n.top+u.horizontalRulerHeight?(e.parentNode.removeChild(e),delete a.lines[o]):(delete r.originTranslate,delete r.start)}a.currentNodeInfo=null,document.removeEventListener("mousemove",f)}}))}},{key:"_coordinateToTranslate",value:function(t,n){var r=this.opt,e=r.scale,i=r.canvasConfig,o=i.translateX,a=i.translateY;return("y"===n?a:o)+t*e}},{key:"_translateToCoordinate",value:function(t,n,r){var e=t.scale,i=t.canvasConfig,o=i.translateX,a=i.translateY;return(r-("y"===n?a:o))/e}},{key:"_initCanvas",value:function(){var t=this.opt,n=t.canvasEl;n||((n=io()).style.position="absolute",n.style.left=0,n.style.top=0,n.style.transition="transform 300ms",n.style.transformOrigin="0 0",t.canvasEl=n,this._modifyAdsorptionLine([{value:t.canvasWidth,dir:"x"},{value:0,dir:"x"},{value:0,dir:"y"},{value:t.canvasHeight,dir:"y"}]),t.containerEl.appendChild(n),t.containerEl.addEventListener("mousewheel",this._mousewheelEvent.bind(this))),n.style.width=t.canvasWidth+"px",n.style.height=t.canvasHeight+"px";var r=t.scale,e=t.autoScale,i=t.autoCenter;if(e){var o=(t.width-2*t.horizontalPadding)/t.canvasWidth,a=(t.height-2*t.verticalPadding)/t.canvasHeight;r=Math.min(o,a)}var u=0,c=0,f=t.canvasWidth*r,l=t.canvasHeight*r;if(i&&(u=Math.floor((t.width-f)/2),c=Math.floor((t.height-l)/2),t.canvasConfig.translateX=u,t.canvasConfig.translateY=c),this._setTranslateBoundary(f,l),t.scale=r,Zi(t.canvasStyle))for(var s in t.canvasStyle)t.canvasEl.style[s]=t.canvasStyle[s];this._transformCanvas(),this._checkLarge()}},{key:"_transformCanvas",value:function(){var t=this.opt,n=t.scale,r=t.canvasConfig;t.canvasEl.style.transform="translate(".concat(r.translateX,"px, ").concat(r.translateY,"px) scale(").concat(n,")"),t.showRuler&&(this._repaintRuler(!1),this._repaintRuler(!0)),t.usePositionLine&&this._changeLinesTranslate()}},{key:"_checkLarge",value:function(){var t=this.opt,n=t.scale,r=t.canvasConfig,e=t.containerConfig,i=t.showScrollBar,o=t.scrollConfig,a=r.translateX,u=r.translateY,c=t.canvasWidth*n+2*t.horizontalPadding,f=t.canvasHeight*n+2*t.verticalPadding;r.totalWidth=c,r.totalHeight=f;var l=t.width<c,s=t.height<f;if(e.isLarge=l||s,e.isXLarge=l,e.isYLarge=s,i){var v="none",h="none";if(l){h="block",t.hScrollBar||(t.hScrollBar=this._createScrollBar(!1));var p=t.horizontalPadding-a;t.hScrollBar.style.left=t.width*(p/c)+"px";var d=t.width/c*t.width;t.hScrollBar.style.width=d+"px",o.width=d}if(t.hScrollBar&&(t.hScrollBar.style.display=h),s){t.vScrollBar||(t.vScrollBar=this._createScrollBar(!0)),v="block";var g=t.verticalPadding-u;t.vScrollBar.style.top=t.height*(g/f)+"px";var y=t.height/f*t.height;t.vScrollBar.style.height=y+"px",o.height=y}t.vScrollBar&&(t.vScrollBar.style.display=v)}}},{key:"_setLineTranslate",value:function(t,n,r){var e="y"===t?"0, ".concat(n,"px"):"".concat(n,"px, 0");r.style.transform="translate(".concat(e,")")}},{key:"_changeLinesTranslate",value:function(){var t=this,n=this.opt.positionLineConfig.lines;Object.keys(n).forEach((function(r){var e=n[r],i=e.dir,o=e.positionEl,a=e.coordinate,u=e.tipEl;o.style.transition="transform 300ms";var c=t._coordinateToTranslate(a,i);t._setLineTranslate(i,c,o),t._checkTipPosition(c,i,o,u),e.translate=c}))}},{key:"_checkTipPosition",value:function(t,n,r,e){var i="y"===n,o=this.opt,a=o.width,u=o.height;if(i){var c=e.offsetHeight,f=r.offsetHeight,l=t+f+c>=u?-c:f;e.style.top=l+"px"}else{var s=e.offsetWidth,v=r.offsetWidth,h=t+v+s>=a?-s:v;e.style.left=h+"px"}}},{key:"_mousewheelEvent",value:function(t){var n=this;if(t.preventDefault(),t.metaKey||t.ctrlKey){var r=-1*t.deltaY/100,e=this.opt.scale+r;this.changeScale(e)}else{var i=this.opt,o=i.scrollConfig,a=i.containerConfig,u=i.canvasConfig,c=i.hScrollBar,f=i.vScrollBar;if(!a.isLarge||o.isDown)return;t.preventDefault(),this.opt.wheelTimer&&clearTimeout(this.opt.wheelTimer);var l=-t.deltaX,s=-t.deltaY,v="",h=this.opt.scrollConfig.opacity,p=void 0===h?.4:h,d=u.translateX,g=u.translateY;if(a.isXLarge&&Math.abs(l)>Math.abs(s)){v="h",d+=l,d=Math.max(Math.min(d,u.maxTranslateX),u.minTranslateX);var y=this.opt.horizontalPadding-d;c.style.opacity=p,f&&(f.style.opacity=0),c.style.left=this.opt.width*(y/u.totalWidth)+"px",u.translateX=d,this._onMove(d,g)}if(a.isYLarge&&Math.abs(s)>Math.abs(l)){v="v",g+=s,g=Math.max(Math.min(g,u.maxTranslateY),u.minTranslateY),f.style.opacity=p,c&&(c.style.opacity=0);var m=this.opt.verticalPadding-g;f.style.top=this.opt.height*(m/u.totalHeight)+"px",u.translateY=g,this._onMove(d,g)}this._transformCanvas(),v&&(this.opt.wheelTimer=setTimeout((function(){n.opt.scrollConfig.isMouseEnter||(("h"===v?c:f).style.opacity=0)}),1e3))}}},{key:"_onMove",value:function(t,n){"function"==typeof this.opt.onMove&&this.opt.onMove(t,n)}},{key:"_createScrollBar",value:function(t){var n=this.opt,r=io(),e={position:"absolute",display:"none",borderRadius:"4px",backgroundColor:"#000000",opacity:0,transition:"opacity 300ms",cursor:"pointer",zIndex:500};return t?(e.right=0,e.width="8px"):(e.bottom=0,e.height="8px"),ro(r,e),this._addScrollBarEvent(r,t),n.containerEl.appendChild(r),r}},{key:"_addScrollBarEvent",value:function(t,n){var r=this,e=this.opt,i=e.scrollConfig,o=e.canvasConfig,a=function(a){if(a.preventDefault(),i.isMouseDown){var u=o.translateX,c=o.translateY,f=eo(a);if(n){var l=f.pageY-i.startY,s=i.top+l;s=Math.min(Math.max(0,s),e.height-i.height),t.style.top=s+"px";var v=s*o.totalHeight/e.height;c=e.verticalPadding-v,o.translateY=c}else{var h=f.pageX-i.startX,p=i.left+h;p=Math.min(Math.max(0,p),e.width-i.width),t.style.left=p+"px";var d=p*o.totalWidth/e.width;u=e.horizontalPadding-d,o.translateX=u}r._transformCanvas(),r._onMove(u,c)}};t.addEventListener("mouseenter",(function(){i.isMouseEnter=!0,t.style.opacity=i.opacity,n?i.hScrollBar&&(i.hScrollBar.style.opacity=0):i.vScrollBar&&(i.vScrollBar.style.opacity=0)})),t.addEventListener("mouseleave",(function(){i.isMouseDown||(i.isMouseEnter=!1,t.style.opacity=0)})),t.addEventListener("mousedown",(function(r){r.preventDefault(),i.isMouseDown=!0;var e=eo(r);n?(i.startY=e.pageY,i.top=parseFloat(t.style.top)):(i.left=parseFloat(t.style.left),i.startX=e.pageX),document.addEventListener("mousemove",a)})),document.addEventListener("mouseup",(function(){i.isMouseDown&&(i.isMouseDown=!1,i.isMouseEnter=!1,document.removeEventListener("mousemove",a))}))}},{key:"_modifyAdsorptionLine",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.opt.positionLineConfig,e=r.adsorptionXList,i=r.adsorptionYList;t.forEach((function(t){var r=t.dir,o=t.value,a="y"===r?i:e,u=a.indexOf(o);u>-1?n&&a.splice(u,1):n||a.push(o)})),n||(e.sort((function(t,n){return t-n})),i.sort((function(t,n){return t-n})))}},{key:"getCanvasEl",value:function(){return this.opt.canvasEl}},{key:"updateCanvasRect",value:function(t){var n=t.width,r=t.height;r&&(this.opt.canvasHeight=r),n&&(this.opt.canvasWidth=n),this._initCanvas()}},{key:"removeAdsorptionLine",value:function(t){this._modifyAdsorptionLine(t,!0)}},{key:"addAdsorptionLine",value:function(t){this._modifyAdsorptionLine(t)}},{key:"changeScale",value:function(t){var n=this.opt,r=n.scale,e=n.canvasConfig,i=e.translateX,o=e.translateY,a=(t=Math.min(Math.max(t,n.minScale),n.maxScale))-r;n.scale=t;var u=n.canvasWidth*t,c=n.canvasHeight*t;this._setTranslateBoundary(u,c),i-=a*n.canvasWidth/2,o-=a*n.canvasHeight/2,i=Math.max(Math.min(i,e.maxTranslateX),e.minTranslateY),o=Math.max(Math.min(o,e.maxTranslateY),e.minTranslateY),e.translateX=i,e.translateY=o,this._transformCanvas(),"function"==typeof n.onScale&&n.onScale(n.scale),this._checkLarge()}},{key:"removeAllPositionLine",value:function(){var t=this.opt.positionLineConfig,n=t.lines,r=t.positionLineWrapEl;for(var e in n){var i=n[e].positionEl;r.removeChild(i)}this.opt.positionLineConfig.lines=[]}},{key:"hideAllPositionLine",value:function(){var t=this.opt.positionLineConfig.lines;for(var n in t){t[n].positionEl.style.display="none"}}},{key:"showAllPositionLine",value:function(){var t=this.opt.positionLineConfig.lines;for(var n in t){t[n].positionEl.style.display="block"}}}])}();module.exports=ao;
